
&AtClient
Procedure OnClose(Exit)
	//Insert handler contents
EndProcedure

&AtClient
Procedure BeforeClose(Cancel, Exit, MessageText, StandardProcessing)
	Cancel = True;
	Exit(False);
EndProcedure

&AtServerNoContext
Procedure SubmitAtServer(ChassisNumber)
	
	ConnectionStructure = HTTPServices.GetHTTPRequest();
	
	ConnectionStructure.Request.ResourceAddress = ConnectionStructure.Request.ResourceAddress + "/?chassisnumber="+ChassisNumber+"&type=mob";
	
	Response = ConnectionStructure.Connection.Get(ConnectionStructure.Request);
	Connected = TRUE;
	
	BodyAsString = Response.GetBodyAsString();
	BodyAsString = Serialization.AddValueTag(BodyAsString);
	BodyStructure = Serialization.GetDataFromString(BodyAsString);
	Parsed = TRUE;
	
EndProcedure

&AtClient
Procedure Submit(Command)
	SubmitAtServer(Number);
EndProcedure
